<!DOCTYPE html>
<html>
	<head>
		<title>Browse</title>
		<!--<meta name="google-signin-client_id" content="58684548257-9sudakl3qmrjgmao6bukgldrt5f0dt3k.apps.googleusercontent.com">
		-->
		<meta name="google-signin-client_id" content="985517029062-ef87d8i7vor0tb09ibg2qr678noe90du.apps.googleusercontent.com">
		<meta name="google-signin-scope" content="profile email">
	</head>

	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous"/>

	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="scripts.js"></script>

	<script>
		function onSignIn(googleUser) {
			Console.log("User signed in");
			
			var profile = googleUser.getBasicProfile();
			var id = profile.getId();
			console.log(id);
			
			var dm = profile.getEmail().split('@')[1];
			if(dm != "usc.edu"){
			  	alert("Please sign in with a USC email");
			  	signOut();
			  	return;
			}
			
			var id = profile.getId();  
			sessionStorage.setItem("googleUserId", id);
			
			//AJAX call to server
		}
	
		function signOut() {
			var auth = gapi.auth2.getAuthInstance();
			auth.signOut().then(function () {
					console.log('User signed out.');
			});
		};
		
		function isSignedIn(){
			var isSignedIn = gapi.auth2.getAuthInstance().isSignedIn.get();
			console.log(isSignedIn);
		};
	</script>


	<body onload="return getAllItems()">
		<div id="outerContainer">
			<div class="header">
				<div class="icon"><img class="icon-image" src="./icon.png"/></div>
				<div class="search-bar"><input type="text" id="search" name="search" placeholder="Search..."></div>
				<div class="header-frame" id="header-frame">
					<div class="header-text" onClick="showSavedItems()">Saved</div>
					<div class="account"><div class="g-signin2" data-onsuccess="onSignIn"></div></div>
					<!--<div class="header-text"><a href="#" onclick="signOut();">Sign out</a></div>-->
				</div>
			</div>
			<div class="main">
				<div class="main-frame">
					<div class="browser-bar">
						<div class="browser-text"><div class="title-text">Browse</div></div>
					</div>
					<div class="inner-frame">
						<div class="item-frame">
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="1"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="1" onClick="getItem(this)"><img class="item-image-pic" src="https://placeimg.com/325/200/tech"/></div>
								<div class="item-title" data-itemID="1" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="2"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="2" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/326/200/tech"/></div>
								<div class="item-title" data-itemID="2" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="3"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="3" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/327/200/tech"/></div>
								<div class="item-title" data-itemID="3" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="4"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="4" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/328/200/tech"/></div>
								<div class="item-title" data-itemID="4" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="5"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="5" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/329/200/tech"/></div>
								<div class="item-title" data-itemID="5" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="6"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="6" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/330/200/tech"/></div>
								<div class="item-title" data-itemID="6" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="7"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="7" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/331/200/tech"/></div>
								<div class="item-title" data-itemID="7" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="8"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="8" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/332/200/tech"/></div>
								<div class="item-title" data-itemID="8" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="9"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="9" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/333/200/tech"/></div>
								<div class="item-title" data-itemID="9" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="10"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="10" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/334/200/tech"/></div>
								<div class="item-title" data-itemID="10" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
							<div class="item">
								<div class="heart" onClick="clickedHeart(this)" data-itemID="11"><i class="far fa-heart"></i></div>
								<div class="item-image" data-itemID="11" onClick="getItem(this)"><img class="item-image-pic" src="http://placeimg.com/335/200/tech"/></div>
								<div class="item-title" data-itemID="11" onClick="getItem(this)"><div class="item-title-text">Lorem ipsum dolor sit amet</div></div>
								<div class="item-location"><div class="item-location-text">Palo Alto, CA</div></div>
								<div class="item-price"><div class="item-price-text">$100</div></div>
							</div>
						</div>
						<div class="saved-items" id="saved-items">
							<div class="saved-title">Saved Items</div>
							<hr style="background-color: #E5E5E5; margin-bottom: 0px"/>
							<table id="saved-table">
								<tr> 
									<td><div class="table-item-text" data-itemID="1" onClick="getItem(this)">Lorem Ipsum</div></td>
									<td><div class="table-price-text">$100</div></td>
									<td><i class="fas fa-times" style="color: #949494;" data-itemID="1" onClick="unsaveItem(this)"></i></td>
								</tr>
								<tr> 
									<td><div class="table-item-text" data-itemID="2" onClick="getItem(this)">Lorem Ipsum</div></td>
									<td><div class="table-price-text">$100</div></td>
									<td><i class="fas fa-times" style="color: #949494;" data-itemID="2" onClick="unsaveItem(this)"></i></td>
								</tr>
								<tr> 
									<td><div class="table-item-text" data-itemID="3" onClick="getItem(this)">Lorem Ipsum</div></td>
									<td><div class="table-price-text">$100</div></td>
									<td><i class="fas fa-times" style="color: #949494;" data-itemID="3" onClick="unsaveItem(this)"></i></td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>